<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RankJournal: Balanced Contribution Rankings</title>
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <meta name="description" content="View academic journal rankings with balanced contribution weighting methodology.">
    <meta name="keywords" content="balanced contribution, journal rankings, academic journals, citation analysis">
    <style>
        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #0F172A;
            color: #F8FAFC;
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        #particles-js {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.1) 0%, rgba(15, 23, 42, 0.8) 100%);
            opacity: 0.5;
            z-index: -1;
        }

        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #0F172A;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }

        .loader.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .loader::after {
            content: '';
            width: 50px;
            height: 50px;
            border: 5px solid #FBBF24;
            border-top-color: transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        header {
            position: sticky;
            top: 0;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px 40px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            transition: background 0.3s ease;
        }

        .logo {
            font-size: 2.5em;
            font-weight: 700;
            color: #ddb03d;
            letter-spacing: 1px;
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
        }

        .logo::before {
            content: '';
            width: 30px;
            height: 30px;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="%23FBBF24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg>');
            background-size: contain;
        }

        nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
            margin-right: 20px; /* Add some space between nav and Contact Us button */
            display: flex;
            align-items: center;
            justify-content: flex-end;
            gap: 30px;
        }
        nav {
            flex-grow: 1; /* Add this line */
        }

        nav a {
            text-decoration: none;
            color: #F8FAFC;
            font-size: 1.1em;
            font-weight: 400;
            transition: color 0.3s ease;
            position: relative;
        }

        nav a:hover, nav a:focus {
            color: #FBBF24;
            outline: none;
        }

        nav a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            background: #FBBF24;
            bottom: -4px;
            left: 0;
            transition: width 0.3s ease;
        }

        nav a:hover::after {
            width: 100%;
        }

        .explore-now, .get-in-touch {
            padding: 12px 24px;
            border-radius: 8px;
            text-decoration: none;
            font-size: 1em;
            font-weight: 600;
            transition: background 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
        }

        .explore-now {
            background: #10B981;
            color: #F8FAFC;
        }

        .explore-now:hover, .explore-now:focus {
            background: #059669;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .get-in-touch {
            background: #F97316;
            color: #F8FAFC;
        }

        .get-in-touch:hover, .get-in-touch:focus {
            background: #EA580C;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .hamburger {
            display: none;
            cursor: pointer;
            color: #F8FAFC;
            font-size: 1.5em;
        }

        .hero-section {
            position: relative;
            padding: 80px 40px;
            text-align: center;
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.9), rgba(15, 23, 42, 0.95));
            border-radius: 0 0 16px 16px;
            margin-bottom: 40px;
            overflow: hidden;
        }

        .hero-content {
            position: relative;
            z-index: 10;
            max-width: 800px;
            margin: 0 auto;
        }

        .hero-content h1 {
            font-size: 3.2em;
            font-weight: 700;
            color: #F8FAFC;
            margin-bottom: 20px;
        }

        .hero-content h1 span {
            color: #FBBF24;
        }

        .hero-content p {
            font-size: 1.2em;
            color: #CBD5E1;
            margin-bottom: 30px;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        .hero-badge {
            display: inline-block;
            background: rgba(251, 191, 36, 0.2);
            color: #FBBF24;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            margin-bottom: 20px;
            border: 1px solid rgba(251, 191, 36, 0.4);
        }

        .hero-badge i {
            margin-right: 8px;
        }

        .content {
            max-width: 1200px;
            margin: 0 auto 40px auto;
            padding: 0 20px;
        }

        .panel {
            background: rgba(30, 41, 59, 0.8);
            backdrop-filter: blur(10px);
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            position: relative;
            overflow: hidden;
        }

        .panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: #FBBF24;
            border-radius: 3px 3px 0 0;
        }

        .panel h2 {
            font-size: 2em;
            font-weight: 700;
            color: #FBBF24;
            margin-bottom: 25px;
            text-align: center;
            position: relative;
        }

        .panel h2::after {
            content: '';
            position: absolute;
            width: 50px;
            height: 3px;
            background: #FBBF24;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
        }

        .search-tagline {
            text-align: center;
            color: #CBD5E1;
            font-size: 1.1em;
            margin-bottom: 25px;
        }

        .search-container {
            position: relative;
            margin: 0 auto 30px auto;
            max-width: 800px;
        }

        .search-input {
            width: 100%;
            padding: 16px 20px 16px 55px;
            font-size: 1.1em;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            background: rgba(13, 27, 42, 0.7);
            color: #F8FAFC;
            transition: all 0.3s ease;
            box-sizing: border-box;
        }

        .search-input:focus {
            outline: none;
            border-color: #FBBF24;
            box-shadow: 0 0 15px rgba(251, 191, 36, 0.3);
        }

        .search-input::placeholder {
            color: rgba(203, 213, 225, 0.6);
        }

        .search-icon {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: #FBBF24;
            font-size: 1.2em;
        }

        .search-results {
            margin: 0 auto;
            max-height: 400px;
            overflow-y: auto;
            padding: 5px;
            border-radius: 8px;
            max-width: 800px;
        }

        .search-result-item {
            padding: 20px;
            background: rgba(15, 23, 42, 0.8);
            margin-bottom: 15px;
            border-radius: 8px;
            opacity: 0;
            animation: fadeInUp 0.6s ease forwards;
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.3s ease;
            transform: translateY(20px);
            position: relative;
            overflow: hidden;
        }

        .search-result-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 3px;
            height: 100%;
            background: #FBBF24;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .search-result-item:hover {
            border-color: rgba(251, 191, 36, 0.4);
            background: rgba(30, 41, 59, 0.9);
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }

        .search-result-item:hover::before {
            opacity: 1;
        }

        .search-result-item h3 {
            color: #FBBF24;
            margin: 0 0 15px 0;
            font-size: 1.3em;
            font-weight: 600;
        }

        .search-result-item p {
            margin: 8px 0;
            font-size: 1.05em;
            color: #CBD5E1;
        }

        .rank-value {
            color: #10B981;
            font-weight: 600;
        }

        .no-results {
            color: #CBD5E1;
            text-align: center;
            font-style: italic;
            padding: 30px;
            font-size: 1.1em;
        }

        .journals-table-container {
            position: relative;
            overflow: hidden;
            border-radius: 8px;
            margin-top: 30px;
            background: rgba(15, 23, 42, 0.5);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        }

        .journals-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 1.1em;
        }

        .journals-table th {
            background: linear-gradient(135deg, #FBBF24 0%, #F59E0B 100%);
            color: #0F172A;
            padding: 16px 20px;
            text-align: left;
            font-weight: 600;
            font-size: 1.1em;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .journals-table th:first-child {
            border-radius: 8px 0 0 0;
        }

        .journals-table th:last-child {
            border-radius: 0 8px 0 0;
        }

        .journals-table td {
            padding: 16px 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.3s ease;
        }

        .journals-table tr {
            background: transparent;
            transition: all 0.3s ease;
        }

        .journals-table tr:hover {
            background: rgba(30, 41, 59, 0.9);
        }

        .journals-table tr:last-child td {
            border-bottom: none;
        }

        .journals-table .journal-title {
            font-weight: 600;
            color: #F8FAFC;
            font-size: 1.1em;
        }

        .journals-table .rank-cell {
            color: #CBD5E1;
            font-weight: 600;
            text-align: center;
            font-size: 1.1em;
        }

        .journals-table .highlight-cell {
            color: #10B981;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #CBD5E1;
            font-size: 1.2em;
        }

        .loading::after {
            content: '';
            animation: dots 1.5s infinite;
        }

        @keyframes dots {
            0%, 20% { content: '.'; }
            40% { content: '..'; }
            60% { content: '...'; }
            80%, 100% { content: ''; }
        }

        .error-message {
            text-align: center;
            padding: 20px;
            color: #EF4444;
            background: rgba(239, 68, 68, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(239, 68, 68, 0.3);
            margin: 20px 0;
            font-size: 1.1em;
        }

        .weight-indicator {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 30px 0;
            padding: 20px;
            background: rgba(15, 23, 42, 0.7);
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .weight-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .weight-circle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: rgba(251, 191, 36, 0.2);
            border: 2px solid #FBBF24;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3em;
            font-weight: 700;
            color: #FBBF24;
        }

        .weight-label {
            font-size: 0.9em;
            color: #CBD5E1;
            text-align: center;
        }

        .methodology-note {
            margin-top: 30px;
            padding: 20px;
            background: rgba(251, 191, 36, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(251, 191, 36, 0.3);
            color: #F8FAFC;
            font-size: 1.05em;
            line-height: 1.6;
        }

        .methodology-note h3 {
            color: #FBBF24;
            margin-top: 0;
            font-weight: 600;
        }

        /* Pagination styles */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 30px;
            gap: 10px;
        }

        .pagination button {
            padding: 8px 16px;
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: #F8FAFC;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .pagination button:hover {
            background: rgba(251, 191, 36, 0.2);
            border-color: #FBBF24;
            color: #FBBF24;
        }

        .pagination button.active {
            background: rgba(251, 191, 36, 0.3);
            border-color: #FBBF24;
            color: #FBBF24;
        }

        .pagination button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .pagination-info {
            color: #CBD5E1;
            text-align: center;
            margin-bottom: 15px;
            font-size: 1em;
        }

        footer {
            background: rgba(15, 23, 42, 0.95);
            padding: 40px 20px;
            text-align: center;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            margin-top: 40px;
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            max-width: 1200px;
            margin: 0 auto 30px auto;
            flex-wrap: wrap;
            gap: 30px;
        }

        .footer-column {
            flex: 1;
            min-width: 250px;
            text-align: left;
        }

        .footer-column h3 {
            color: #FBBF24;
            font-size: 1.2em;
            margin-bottom: 20px;
            position: relative;
            padding-bottom: 10px;
        }

        .footer-column h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 30px;
            height: 2px;
            background: #FBBF24;
        }

        .footer-column ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .footer-column ul li {
            margin-bottom: 10px;
        }

        .footer-column ul li a {
            color: #CBD5E1;
            text-decoration: none;
            transition: color 0.3s ease;
            font-size: 1em;
        }

        .footer-column ul li a:hover {
            color: #FBBF24;
        }

        .footer-column p {
            color: #CBD5E1;
            font-size: 1em;
            line-height: 1.6;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .social-links a {
            color: #F8FAFC;
            font-size: 1.5em;
            transition: all 0.3s ease;
        }

        .social-links a:hover {
            color: #FBBF24;
            transform: translateY(-3px);
        }

        .copyright {
            color: #CBD5E1;
            font-size: 1em;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding-top: 20px;
        }

        /* Scrollbar styling */
        .search-results::-webkit-scrollbar {
            width: 12px;
        }

        .search-results::-webkit-scrollbar-track {
            background: rgba(15, 23, 42, 0.5);
            border-radius: 10px;
        }

        .search-results::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #FBBF24 0%, #F59E0B 100%);
            border-radius: 10px;
        }

        .search-results::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #F59E0B 0%, #D97706 100%);
        }

        /* Animations */
        @keyframes fadeInUp {
            from { 
                opacity: 0; 
                transform: translateY(30px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Responsive Styles */
        @media (max-width: 1024px) {
            .hero-content h1 {
                font-size: 2.8em;
            }
            
            .panel h2 {
                font-size: 1.8em;
            }
            
            .weight-indicator {
                flex-wrap: wrap;
            }
        }

        @media (max-width: 768px) {
            header {
                padding: 15px 20px;
                flex-wrap: wrap;
            }
            
            .logo {
                font-size: 2em;
            }
            
            nav ul {
                display: none;
                position: absolute;
                top: 70px;
                left: 0;
                right: 0;
                flex-direction: column;
                background: rgba(15, 23, 42, 0.95);
                padding: 20px;
                gap: 15px;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            }
            
            nav ul.active {
                display: flex;
            }
            
            .hamburger {
                display: block;
            }
            
            .hero-section {
                padding: 60px 20px;
            }
            
            .hero-content h1 {
                font-size: 2.2em;
            }
            
            .hero-content p {
                font-size: 1.1em;
            }
            
            .panel {
                padding: 20px;
            }
            
            .journals-table {
                font-size: 0.95em;
            }
            
            .journals-table th,
            .journals-table td {
                padding: 12px 10px;
            }
            
            .footer-content {
                flex-direction: column;
                gap: 20px;
            }
            
            .footer-column {
                text-align: center;
            }
            
            .footer-column h3::after {
                left: 50%;
                transform: translateX(-50%);
            }

            .pagination {
                flex-wrap: wrap;
            }
        }

        @media (max-width: 480px) {
            .hero-content h1 {
                font-size: 1.8em;
            }
            
            .search-input {
                padding: 12px 12px 12px 45px;
                font-size: 1em;
            }
            
            .search-icon {
                left: 15px;
                font-size: 1em;
            }
            
            .panel h2 {
                font-size: 1.5em;
            }
            
            .weight-circle {
                width: 50px;
                height: 50px;
                font-size: 1.1em;
            }
            
            .journals-table {
                font-size: 0.9em;
            }
            
            .journals-table th,
            .journals-table td {
                padding: 10px 8px;
            }

            .pagination button {
                padding: 6px 12px;
                font-size: 0.9em;
            }
        }
    </style>
</head>
<body>
    <div class="loader"></div>
    <div id="particles-js"></div>
    
    <header>
        <a href="index.html" class="logo">RANKJOURNAL</a>
        <nav>
            <ul id="navLinks">
                <li><a href="journal_ranking.html">Home</a></li>
                <li><a href="./insights.html" aria-label="Insights">Insights</a></li>
                <li><a href="about.html">About Us</a></li>
            </ul>
        </nav>
        <div class="nav-buttons">
            <a href="#" class="get-in-touch">Contact Us</a>
        </div>
        <i class="fas fa-bars hamburger" aria-label="Toggle navigation"></i>
    </header>

    <section class="hero-section" data-aos="fade-up">
        <div class="hero-content">
            <div class="hero-badge"><i class="fas fa-balance-scale"></i> Balanced Contribution</div>
            <h1>Journal Rankings with <span>Balanced Weighting</span></h1>
            <p>Discover the most influential academic journals based on our balanced contribution methodology, where self-citations is given weight 1, internal citations weight 2, and external citations weight 3.</p>
        </div>
    </section>

    <div class="content">
        <div class="panel" data-aos="fade-up">
            <h2>Weighting Methodology</h2>
            <div class="weight-indicator">
                <div class="weight-item">
                    <div class="weight-circle">1</div>
                    <div class="weight-label">Self-Citations<br>Weight</div>
                </div>
                <div class="weight-item">
                    <div class="weight-circle">2</div>
                    <div class="weight-label">Internal Citations<br>Weight</div>
                </div>
                <div class="weight-item">
                    <div class="weight-circle">3</div>
                    <div class="weight-label">External Citations<br>Weight</div>
                </div>
            </div>
            <div class="methodology-note">
                <h3>About Balanced Contribution</h3>
                <p>In this ranking, citations are evaluated based on their importance, as determined by citation impact research. Self-citations, which indicate related research by the same author, are assigned a weight of 1. Internal citations, reflecting significant contributions within the same journal, receive a weight of 2. External citations, widely regarded as the most influential in academia, are given a weight of 3. This ranking method provides a balanced assessment of journal impact, valuing all citations equally regardless of their source. It offers a neutral evaluation of journal influence across the academic landscape.</p>
            </div>
        </div>

        <div class="panel" data-aos="fade-up" data-aos-delay="100">
            <h2>Search Journals</h2>
            <p class="search-tagline">Find the most influential academic journals in your field</p>
            <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <input type="text" id="searchInput" class="search-input" placeholder="Search for journals (e.g., Nature, Science)..." aria-label="Search journals">
            </div>
            <div class="search-results" id="searchResults"></div>
        </div>

        <div class="panel" data-aos="fade-up" data-aos-delay="200">
            <h2>Journal Rankings</h2>
            <div id="loadingMessage" class="loading">Loading journal data</div>
            <div id="errorMessage" class="error-message" style="display: none;"></div>
            <div class="journals-table-container">
                <table class="journals-table" id="journalsTable" style="display: none;">
                    <thead>
                        <tr>
                            <th>Journal Title</th>
                            <th>Predicted Rank</th>
                            <th>JIF Rank</th>
                            <th>SJR Rank</th>
                            <th>Article Influence</th>
                        </tr>
                    </thead>
                    <tbody id="journalsTableBody">
                    </tbody>
                </table>
            </div>
            <div class="pagination-info" id="paginationInfo"></div>
            <div class="pagination" id="pagination"></div>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <div class="footer-column">
                <h3>About RankJournal</h3>
                <p>RankJournal provides comprehensive academic journal rankings based on multiple metrics to help researchers identify the most influential publications in their field.</p>
            </div>
            <div class="footer-column">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="journal_ranking.html">Home</a></li>
                    <li><a href="#">Rankings</a></li>
                    <li><a href="#">Categories</a></li>
                    <li><a href="#">Resources</a></li>
                    <li><a href="about.html">About Us</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Resources</h3>
                <ul>
                    <li><a href="#">Ranking Methodology</a></li>
                    <li><a href="#">Data Sources</a></li>
                    <li><a href="#">API Documentation</a></li>
                    <li><a href="#">Citation Guidelines</a></li>
                    <li><a href="#">FAQ</a></li>
                </ul>
            </div>
        </div>
        <div class="social-links">
            <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin"></i></a>
            <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
            <a href="#" aria-label="GitHub"><i class="fab fa-github"></i></a>
            <a href="#" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
        </div>
        <div class="copyright">
            <p>© 2025 RankJournal. All rights reserved.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        // Preloader
        window.addEventListener('load', () => {
            const loader = document.querySelector('.loader');
            loader.classList.add('hidden');
            setTimeout(() => loader.remove(), 500);
        });

        // Initialize AOS
        AOS.init({
            duration: 800,
            easing: 'ease-in-out',
            once: true,
            mirror: false
        });

        // Particles JS
        particlesJS('particles-js', {
            particles: {
                number: { value: 80, density: { enable: true, value_area: 800 } },
                color: { value: '#FBBF24' },
                shape: { type: 'circle' },
                opacity: { value: 0.5, random: true },
                size: { value: 3, random: true },
                line_linked: { enable: true, distance: 150, color: '#FBBF24', opacity: 0.2, width: 1 },
                move: { enable: true, speed: 2, direction: 'none', random: true, out_mode: 'out' }
            },
            interactivity: {
                detect_on: 'canvas',
                events: { onhover: { enable: true, mode: 'repulse' }, onclick: { enable: true, mode: 'push' } },
                modes: { repulse: { distance: 100, duration: 0.4 } }
            },
            retina_detect: true
        });

        // Hamburger menu toggle
        document.querySelector('.hamburger').addEventListener('click', () => {
            document.getElementById('navLinks').classList.toggle('active');
        });

        // JSON file for rankings
        const jsonFile = "balanced.json";

        // Title capitalization function
        function capitalizeTitle(title) {
            if (!title) return '';
            // Words that shouldn't be capitalized (articles, conjunctions, prepositions)
            const exceptions = ['a', 'an', 'the', 'and', 'but', 'or', 'for', 'nor', 'on', 'at', 'to', 'from', 'by', 'of', 'in'];
            
            return title.split(' ').map((word, index) => {
                // Always capitalize the first and last word
                if (index === 0 || index === title.split(' ').length - 1) {
                    return word.charAt(0).toUpperCase() + word.slice(1);
                }
                // Don't capitalize exceptions unless they're the first word
                if (exceptions.includes(word.toLowerCase())) {
                    return word.toLowerCase();
                }
                // Capitalize all other words
                return word.charAt(0).toUpperCase() + word.slice(1);
            }).join(' ');
        }

        // Global variables for pagination
        let allJournals = [];
        let currentPage = 1;
        const journalsPerPage = 20;

        // Load journal data and set up pagination
        async function loadJournalData() {
            const loadingMessage = document.getElementById('loadingMessage');
            const errorMessage = document.getElementById('errorMessage');
            
            try {
                const response = await fetch(jsonFile);
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }
                
                allJournals = await response.json();
                
                // Sort by predicted rank
                allJournals.sort((a, b) => a.predicted_rank - b.predicted_rank);
                
                // Set up pagination
                setupPagination();
                
                // Display first page
                displayJournalPage(1);
                
                loadingMessage.style.display = 'none';
                document.getElementById('journalsTable').style.display = 'table';
            } catch (error) {
                console.error('Error loading journal data:', error.message);
                loadingMessage.style.display = 'none';
                errorMessage.style.display = 'block';
                errorMessage.textContent = `Error loading data: ${error.message}`;
            }
        }

        // Set up pagination controls
        function setupPagination() {
            const totalPages = Math.ceil(allJournals.length / journalsPerPage);
            const paginationContainer = document.getElementById('pagination');
            paginationContainer.innerHTML = '';
            
            // Previous button
            const prevButton = document.createElement('button');
            prevButton.innerHTML = '&laquo; Prev';
            prevButton.addEventListener('click', () => {
                if (currentPage > 1) {
                    displayJournalPage(currentPage - 1);
                }
            });
            paginationContainer.appendChild(prevButton);
            
            // Page buttons - show up to 5 pages with current page in the middle when possible
            const startPage = Math.max(1, currentPage - 2);
            const endPage = Math.min(totalPages, startPage + 4);
            
            for (let i = startPage; i <= endPage; i++) {
                const pageButton = document.createElement('button');
                pageButton.textContent = i;
                if (i === currentPage) {
                    pageButton.classList.add('active');
                }
                pageButton.addEventListener('click', () => displayJournalPage(i));
                paginationContainer.appendChild(pageButton);
            }
            
            // Next button
            const nextButton = document.createElement('button');
            nextButton.innerHTML = 'Next &raquo;';
            nextButton.addEventListener('click', () => {
                if (currentPage < totalPages) {
                    displayJournalPage(currentPage + 1);
                }
            });
            paginationContainer.appendChild(nextButton);
            
            // Disable prev/next buttons when at first/last page
            prevButton.disabled = currentPage === 1;
            nextButton.disabled = currentPage === totalPages;
            
            // Update pagination info
            const paginationInfo = document.getElementById('paginationInfo');
            const start = (currentPage - 1) * journalsPerPage + 1;
            const end = Math.min(currentPage * journalsPerPage, allJournals.length);
            paginationInfo.textContent = `Showing ${start} to ${end} of ${allJournals.length} journals`;
        }

        // Display journals for the specified page
        function displayJournalPage(page) {
            currentPage = page;
            const journalsTableBody = document.getElementById('journalsTableBody');
            journalsTableBody.innerHTML = '';
            
            const startIndex = (page - 1) * journalsPerPage;
            const endIndex = Math.min(startIndex + journalsPerPage, allJournals.length);
            
            const pageJournals = allJournals.slice(startIndex, endIndex);
            
            pageJournals.forEach((journal, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="journal-title">${capitalizeTitle(journal.title)}</td>
                    <td class="rank-cell highlight-cell">${journal.predicted_rank}</td>
                    <td class="rank-cell">${journal.if_rank || 'N/A'}</td>
                    <td class="rank-cell">${journal.rank || 'N/A'}</td>
                    <td class="rank-cell">${journal.artl_influence_rank || 'N/A'}</td>
                `;
                row.style.opacity = '0';
                row.style.animation = `fadeIn 0.5s ease forwards ${index * 0.05}s`;
                journalsTableBody.appendChild(row);
            });
            
            // Update pagination controls
            setupPagination();
            
            // Scroll to top of table
            document.querySelector('.journals-table-container').scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
        
        // Enhanced search functionality with capitalized titles
        let searchTimeout;
        async function searchJournals() {
            clearTimeout(searchTimeout);
            searchTimeout = setTimeout(async () => {
                const query = document.getElementById('searchInput').value.trim().toLowerCase();
                const searchResults = document.getElementById('searchResults');
                searchResults.innerHTML = '';

                if (query.length < 2) return;

                if (query) {
                    try {
                        // If we already have loaded journal data, use it instead of fetching again
                        let data = allJournals;
                        if (allJournals.length === 0) {
                            const response = await fetch(jsonFile);
                            if (!response.ok) {
                                throw new Error(`HTTP error! Status: ${response.status}`);
                            }
                            data = await response.json();
                        }
                        
                        const matchingJournals = data.filter(journal => 
                            journal.title.toLowerCase().includes(query)
                        ).slice(0, 10);

                        if (matchingJournals.length > 0) {
                            matchingJournals.forEach((journal, index) => {
                                const div = document.createElement('div');
                                div.className = 'search-result-item';
                                div.innerHTML = `
                                    <h3>${capitalizeTitle(journal.title)}</h3>
                                    <p><strong>Predicted Rank:</strong> <span class="rank-value">${journal.predicted_rank}</span></p>
                                    <p><strong>JIF Rank:</strong> <span class="rank-value">${journal.if_rank || 'N/A'}</span></p>
                                    <p><strong>SJR Rank:</strong> <span class="rank-value">${journal.rank || 'N/A'}</span></p>
                                    <p><strong>Article Influence Rank:</strong> <span class="rank-value">${journal.artl_influence_rank || 'N/A'}</span></p>
                                `;
                                div.style.animationDelay = `${index * 0.1}s`;
                                searchResults.appendChild(div);
                            });
                        } else {
                            searchResults.innerHTML = '<div class="no-results">No matching journals found. Try a different search term.</div>';
                        }
                    } catch (error) {
                        console.error('Error searching journals:', error.message);
                        searchResults.innerHTML = '<div class="no-results">Error loading data. Please try again.</div>';
                    }
                }
            }, 300);
        }

        // Event listeners
        document.getElementById('searchInput').addEventListener('input', searchJournals);

        // Initial load
        loadJournalData();
    </script>
</body>
</html>